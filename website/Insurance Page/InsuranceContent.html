<style>
    .adro-benefits {
        background: linear-gradient(0deg, #1c638d 2.65%, #1b4466 64.99%);

        .container {
            display: flex;
            justify-content: space-between;
            margin: auto;
            height: 100%;
            margin: 1.5% 3.33% 0 3.33% !important;
            line-height: normal;
        }

        .left-box {
            width: 49.11%;
            aspect-ratio: 22/15;
            position: relative;
        }

        .left-box .content {
            position: relative;
            width: 100%;
            /* height: 100%; */
        }

        @supports not (-webkit-touch-callout: none) {
            .left-box .content {
                height: 100%;
            }
        }

        .left-box .content img {
            width: 100%;
            aspect-ratio: 171/116;
            border-radius: 10px;
        }

        .left-box .content .leftBoxDescription {
            position: absolute;
            bottom: 14.4%;
            left: 0;
            width: 100%;
            padding: 0 7.4%;
            text-align: center;
        }

        .right-box {
            width: 46.43%;
        }

        .right-box .benefits-menu {
            list-style: none;
            padding: 0;
            display: flex;
            flex-direction: column;
            gap: 2.5em;
            max-height: 420px;
            /* overflow-y: auto; */
            margin: 6.7% 0;
        }

        .right-box .benefits-menu::-webkit-scrollbar {
            width: 12px;
        }

        .right-box .benefits-menu::-webkit-scrollbar-track {
            background: rgba(45, 121, 166, 1);
            border-radius: 10px;
        }

        .right-box .benefits-menu::-webkit-scrollbar-thumb {
            background: var(--adro-electric-blue);
            border-radius: 6px;
        }

        .right-box .benefits-menu .li-item {
            opacity: 0.5;
            cursor: pointer;
            padding: 0 10% 0 0;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        .right-box .benefits-menu .li-item.active,
        .right-box .benefits-menu .li-item:hover {
            opacity: 1;
            font-weight: 500;
        }

        .right-box .benefits-menu .li-item.active {
            opacity: 1;
            font-weight: 500;
        }

        @media screen and (min-width: 768px) and (max-width: 1024px) and (orientation: landscape) {
            .container {
                margin: 0.4% 3.33% 0 3.33% !important;
            }

            .left-box {
                width: 61.94%;
            }

            .right-box {
                width: 35.2%;
            }
        }

        /* Tablet Portrait and Mobile */
        @media screen and (min-width: 768px) and (max-width: 1024px) and (orientation: portrait),
        (max-width: 767.5px) {
            .section-header-container {
                justify-content: center;
                text-align: left;
            }

            .container {
                display: flex;
                flex-direction: column;
            }

            .left-box {
                width: 100%;
            }

            .right-box {
                display: none;
            }

            .benefit {
                text-align: center;
            }
        }

        /* Mobile only */
        @media screen and (max-width: 767.5px) {
            .section-header-container {
                padding: 0 6.2%;
                text-align: center;
            }

            .container {
                margin: 1.5% 6.2% 0 6.2% !important;
            }

            .left-box .content .leftBoxDescription {
                bottom: 35%;
                padding: 0 7.05%;
            }

            .benefit {
                text-align: center;
                margin-top: 7.05%;
                margin-bottom: 9.4%;
            }
        }

        /* Tablet Portrait */
        @media screen and (min-width: 768px) and (max-width: 1024px) and (orientation: portrait) {
            .container {
                margin: 2.4% 4.8% 0 4.8% !important;
            }

            .left-box .content .leftBoxDescription {
                bottom: 28%;
                padding: 0 5.4%;
            }

            .benefit {
                text-align: center;
                margin-top: 4.3%;
                margin-bottom: 5.4%;
            }
        }

        @media screen and (min-width: 1371px) and (max-width: 1750px) {
            .right-box .benefits-menu {
                max-height: 370px;
            }
        }

        @media screen and (min-width: 1300px) and (max-width: 1370px) {
            .right-box .benefits-menu {
                max-height: 335px;
            }
        }

        @media screen and (min-width: 1281px) and (max-width: 1299.5px) {
            .right-box .benefits-menu {
                max-height: 320px;
            }
        }

        @media screen and (min-width: 1025px) and (max-width: 1280px) {
            .right-box .benefits-menu {
                max-height: 260px;
            }
        }

        @media screen and (min-width: 950px) and (max-width: 1024px) {
            .right-box .benefits-menu {
                max-height: 350px;
            }
        }

        @media screen and (min-width: 768px) and (max-width: 949.5px) {
            .right-box .benefits-menu {
                max-height: 290px;
            }
        }

        /* Apply styles only in Firefox */
        @-moz-document url-prefix() {
            .right-box .benefits-menu {
                scrollbar-width: auto;
                /* Default width */
                scrollbar-color: var(--adro-electric-blue) rgba(45, 121, 166, 1);
            }
        }
    }
</style>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const benefitsData = {};

        wpDataService.left_images.forEach((image, index) => {
            benefitsData[`benefit-${index + 1}`] = {
                overlayText: wpDataService.left_image_overlay_texts[index] || "",
                // imageSrc: image.guid.replace(/\\/g, ""), // Ensuring proper URL format
                imageSrc: image,
            };
        });

        // Function to update the left box with the content dynamically (For Desktop sand Tablet Landscape)
        function updateBenefitsLeftBox(category) {
            const data = benefitsData[category];
            const leftBoxContent = document.querySelector(
                ".adro-benefits .left-box .content"
            );
            leftBoxContent.innerHTML = `
                <img class="leftBoxImage" src="${data.imageSrc}" alt="Image" />
                <div class="medium-size leftBoxDescription">${data.overlayText}</div>
            `;
        }

        // Function to initialize or reset carousel on resize
        function initLeftBoxCarousel() {
            const isPortrait = window.matchMedia(
                "(max-width: 1024px) and (orientation: portrait)"
            ).matches;
            const isBelow767 = window.matchMedia("(max-width: 767.5px)").matches;
            let carouselContainer = jQuery(".adro-benefits .content");

            if (isPortrait || isBelow767) {
                // Populating carousel items dynamically
                let carouselItems = "";
                Object.keys(benefitsData).forEach((category) => {
                    const data = benefitsData[category];
                    carouselItems += `
                        <div class="carousel-item">
                            <img src="${data.imageSrc
                        }" class="leftBoxImage" alt="Image" />
                            <div class="medium-size leftBoxDescription">${data.overlayText
                        }</div>
                           <div class="benefit small-size">${getbyAttribute(
                            category
                        )}</div> 
                        </div>
                    `;
                });

                carouselContainer.addClass("owl-carousel").owlCarousel("destroy"); // Reset carousel before adding new items
                carouselContainer.html(carouselItems);

                // Initialize the carousel
                carouselContainer.owlCarousel({
                    items: 1,
                    loop: true,
                    margin: 16,
                    nav: true,
                    dots: true,
                    mouseDrag: false,
                    touchDrag: true,
                    autoplay: true,
                    autoplayHoverpause: true,
                    autoplayTimeout: 5000,
                    smartSpeed: 800,
                    responsive: {
                        768: {
                            items: 1,
                        },
                    },
                });
            } else {
                // Destroy carousel and revert to original layout for Tablet Landscape and Desktop
                carouselContainer
                    .removeClass("owl-carousel owl-loaded")
                    .trigger("destroy.owl.carousel");
                // Reset to original layout
                const firstItem = document.querySelector(
                    ".adro-benefits .benefits-menu .li-item"
                );
                activateRightBoxMenuItem(firstItem);
                updateBenefitsLeftBox(firstItem.getAttribute("data-category"));
            }
        }

        function activateRightBoxMenuItem(element) {
            document
                .querySelectorAll(".adro-benefits .benefits-menu .li-item")
                .forEach((item) => {
                    item.classList.remove("active");
                    item.classList.remove("medium-size");
                    item.classList.add("small-size");
                });
            element.classList.add("active");
            element.classList.add("medium-size");
            element.classList.remove("small-size");
        }

        function getbyAttribute(category) {
            const element = document.querySelector(`li[data-category="${category}"]`);
            return element ? element.innerHTML : ""; // Returns the content of the li if found
        }
        function adjustMenuOverflow() {
            const benefitsMenu = document.querySelector(
                ".adro-benefits .benefits-menu"
            );
            const listItems = benefitsMenu.querySelectorAll("li").length;

            if (listItems > 4) {
                benefitsMenu.style.overflowY = "auto";
            } else {
                benefitsMenu.style.overflowY = "hidden";
            }
        }

        // Add event listeners to menu items
        document
            .querySelectorAll(".adro-benefits .benefits-menu .li-item")
            .forEach((item) => {
                item.addEventListener("mouseenter", function () {
                    const category = this.getAttribute("data-category");
                    activateRightBoxMenuItem(this);
                    updateBenefitsLeftBox(category);
                });
            });

        // Initial load: Set the first menu item as active and load its content
        const firstItem = document.querySelector(
            ".adro-benefits .benefits-menu .li-item"
        );
        activateRightBoxMenuItem(firstItem);
        updateBenefitsLeftBox(firstItem.getAttribute("data-category"));

        // Reinitialize carousel on window resize
        jQuery(window).resize(() => initLeftBoxCarousel());

        // Initialize the carousel on load for mobile/portrait screens
        initLeftBoxCarousel();

        //Checks if menu items are more than 4 and display a scrollbar
        adjustMenuOverflow();
    });
</script>